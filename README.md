# Youth Meeting App
#### Video Demo:
(https://youtu.be/Bxsuu0_KpZ0)

#### Description:
Hello there! My name is Isaac Veneruci de Oliveira and this is my **Final Project for CS50: Introduction to Computer Science**. In this text file, you will find all the details about the web-based application developed to help my local church during the Youth Meeting Events. That being said, let's dive into it.

The **"Youth Meeting app"** is a web-based application built with the ***"Flask" microframework***, incorporating different programming languages such as Python (main), SQL, JavaScript, and HTML (Markup Language).

The application was developed to facilitate the **gathering, processing, and cross-referencing** of information received through **"Google Forms"** from attendees and hosts for the Youth Meeting Event, held annually at our local church. Before the app, all data was managed manually in spreadsheets generated by Google, which was a tough and laborious task for those in charge.

The application was created to **automate all the accommodations** between attendees and hosts, among other functions such as **picking up and dropping off** attendees from airports.

## Project's Index
1. Project
    - Static (folder)
    - Templates (folder)
    - Venv (folder)
    - App.py
    - Database1.db
    - Database2.db
    - README.md
    - service_account.json

### Static (folder)
The Static (folder) contains the ***"style.css"*** file, used to edit the front-end of our application. It enhances the design of our app.

### Templates (folder)
In the "Templates (folder)" you will find some ***"HTML"*** files used to store the HTML code, CSS design, and JavaScript code that helps display the processed information from the database we created previously.

The HTML files created were:

1. **Accommodations:**
    Used to display the attendees' and hosts' information, related to which host's house each attendee will be accommodated in, based on attendees' gender and available spots.

2. **Donations:**
     Used to display the "Name," "Cell phone," and "Additional notes" from those who decided to donate a hotel room instead of hosting the youth.

3. **Hotel:**
    Used to display the attendees' information such as Name, Church of origin, Gender, Age, Cell phone, and additional notes, but only for those who chose to stay in a hotel when filling out the Google form.

4. **Index:**
    Used as the homepage of the application, from where you can access the other tabs (Accommodations, Hotels, Donations, and Pick up / Drop off). The index also shows the number of attendees who will be attending the Youth Meeting, which can be extremely important.

5. **Pickup:**
    Used to display the attendees' information such as Name, Cell phone, Airports, Flight, and Date / Time. Information from those who are arriving by plane.

### Venv (folder)
This is the **"Virtual Environment"** created to manage dependencies and isolate the project to prevent conflicts between packages used in different projects and to ensure that the project dependencies are consistent across different environments and machines.

### App.py
This is the main code, containing all the **algorithms** and information. To run the code properly, several tools were imported, such as os, logging, apscheduler, flask, googleapiclient, google.oauth2, pandas, sqlite3, and atexit.

The code starts by setting the **"SERVICE_ACCOUNT_FILE"** from Google, which is personal and varies from user to user.

> [!CAUTION] If you are implementing this code to run on your machine, the "SERVICE_ACCOUNT_FILE" needs to be changed to yours.

After that, the **"SCOPES"** and **"SPREADSHEET_ID"** were created, based on the two Google Forms I created previously.

> [!CAUTION] If you are implementing this code to run on your machine, the "SPREADSHEET_ID"'s information needs to be changed to yours.

Following this, we get into the functions created to handle the data. You can check each one of them below:

1. **def get_sheet_data()**

    Used to get all the data from the two spreadsheets generated by Google from the Google Forms, with all data inserted in rows and columns.

2. **def update_database()**

    Used to create two different database files, insert that data, and create new tables in SQL to populate them with the information from the previous step.

3. **def match_attendees_to_hosts()**

    This is the main function, created with an algorithm to accommodate the attendees in the hosts' houses based on criteria such as gender, available spots, church of origin, etc.

    All cross-referenced information from the database files is filtered, matched, and allocated properly, and the results from this process are displayed in the **"Accommodations"** tab.

4. **def normalize_attendee_data()**

    This function is used to normalize terms that are different between the Google Forms and those stored in the database files. It is done to make the matched information easier to handle.

5. **def get_hotel_attendees()**

    This function is used to filter just those attendees who want to stay in a hotel or the overflow attendees from accommodations that cannot be allocated there anymore due to a lack of available spots. This information is displayed in the **"Hotels"** tab.

6. **def get_hotel_donors()**

    This function is used to get the "Name," "Cell phone," and "Additional notes" from those who donate a hotel room and display that information in the **"Donations"** tab.

7. **def get_drive_attendees()**

    This function is used to get the "Name," "Cell phone," "Airport," "Flight," and "Date / Time" from those attendees who are arriving by plane and display that information in the **"Pick up / Drop off"** tab.

8. **def get_attendee_count()**

    This function is used to count the number of attendees who will be attending the Youth Meeting and display the result in the **"Index"** tab.

9. **def periodic_update()**

    This function is used to keep the data updated from Google Forms to the Youth Meeting application.

After the functions, the ***"@app.routes"*** were created, based on the tabs mentioned before. The app routes are:

- @app.route('/') - **also called "Index"**

- @app.route('/data') - **used just to keep the data, not visible to the user.**

- @app.route('/hotels')

- @app.route('/drive')

- @app.route('/donations')

- @app.route('/accommodations')

### Database1.db
This is the database created to store the data from the **'Spreadsheet1'** generated by the attendees' Google form.

### Database2.db
This is the second database created to store the data from the **'Spreadsheet2'** generated by the hosts' Google form.

### README.md
This document is the one you are reading right now, containing all information about **how the application works**.

### service_account.json
This file contains the **private key** to the forms, used to enable access so the information can come and go from Google Forms to this application.

> [!CAUTION] If you are implementing this code to run on your machine, the "service_account.json"'s information needs to be changed to yours.

## Additional Notes
### Extra tools used for the project:

Google Forms

AI Copilot (bing)

### Caution
The application was developed based on Google Forms, and more improvements need to be made, such as server-side validation, client-side validation, global variables (for optimization), etc.

That being said, in case you decide to run this code on your machine, make the changes mentioned in the **"App.py"** section above, and **DO NOT change the 'Questions' formulated in the forms**, otherwise, you will need to change all their names throughout the entire code as well. For simple use, just keep the forms as they are by creating a copy of them, and then making the changes related to the Google Form's and Spreadsheet's ID information mentioned above.

#### Thank you! 12/29/2024
